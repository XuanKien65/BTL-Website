<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hệ Thống Quản Lý Bài Báo</title>
    <style>
        :root {
            --primary-color: #3a86ff;
            --secondary-color: #ff006e;
            --success-color: #8ac926;
            --danger-color: #ff595e;
            --warning-color: #ffca3a;
            --dark-color: #1a535c;
            --light-color: #f8f9fa;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f2f5;
            color: #333;
        }
        
        .container {
            max-width: 900px;
            margin: 30px auto;
            padding: 0 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 20px;
            border-radius: 10px 10px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        header h1 {
            margin: 0;
            font-size: 24px;
        }
        
        .stats {
            background-color: white;
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-around;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-item .value {
            font-size: 24px;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .stat-item .label {
            font-size: 14px;
            color: #666;
        }
        
        .main-content {
            display: flex;
            gap: 20px;
        }
        
        .article-form {
            flex: 1;
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .article-list {
            flex: 1;
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            max-height: 600px;
            overflow-y: auto;
        }
        
        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
        }
        
        h2 {
            color: var(--dark-color);
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 10px;
            margin-top: 0;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        input, textarea, select {
            width: 100%;
            padding: 12px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: inherit;
            font-size: 16px;
            box-sizing: border-box;
            transition: border-color 0.3s;
        }
        
        input:focus, textarea:focus, select:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 2px rgba(58, 134, 255, 0.2);
        }
        
        textarea {
            min-height: 120px;
            resize: vertical;
        }
        
        button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 20px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
        }
        
        button:hover {
            background-color: #2a75e0;
            transform: translateY(-2px);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        .btn-success {
            background-color: var(--success-color);
        }
        
        .btn-success:hover {
            background-color: #78b321;
        }
        
        .btn-danger {
            background-color: var(--danger-color);
        }
        
        .btn-danger:hover {
            background-color: #e04045;
        }
        
        .btn-warning {
            background-color: var(--warning-color);
            color: #333;
        }
        
        .btn-warning:hover {
            background-color: #e0b730;
        }
        
        ul {
            list-style: none;
            padding: 0;
        }
        
        .article-card {
            background-color: var(--light-color);
            border-left: 4px solid var(--primary-color);
            margin-bottom: 15px;
            padding: 15px;
            border-radius: 5px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            position: relative;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .article-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .article-card h3 {
            margin-top: 0;
            margin-bottom: 10px;
            color: var(--dark-color);
        }
        
        .article-card p {
            margin: 0;
            color: #555;
            line-height: 1.5;
        }
        
        .article-meta {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            font-size: 14px;
            color: #777;
            border-top: 1px solid #eee;
            padding-top: 10px;
        }
        
        .article-category {
            display: inline-block;
            padding: 3px 8px;
            background-color: var(--primary-color);
            color: white;
            border-radius: 3px;
            font-size: 12px;
            margin-right: 5px;
        }
        
        .article-category.technology {
            background-color: #3a86ff;
        }
        
        .article-category.health {
            background-color: #8ac926;
        }
        
        .article-category.finance {
            background-color: #ffca3a;
            color: #333;
        }
        
        .article-category.entertainment {
            background-color: #ff006e;
        }
        
        .article-category.sports {
            background-color: #fb5607;
        }
        
        .article-actions {
            display: flex;
            gap: 8px;
            margin-top: 10px;
        }
        
        .article-actions button {
            padding: 6px 12px;
            font-size: 14px;
        }
        
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 15px 20px;
            background-color: var(--success-color);
            color: white;
            border-radius: 5px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: space-between;
            max-width: 300px;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.3s, transform 0.3s;
            z-index: 1000;
        }
        
        .notification.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        .notification.error {
            background-color: var(--danger-color);
        }
        
        .notification .close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 20px;
            padding: 0;
            margin-left: 10px;
            cursor: pointer;
        }
        
        .search-bar {
            margin-bottom: 15px;
            position: relative;
        }
        
        .search-bar input {
            padding-left: 35px;
        }
        
        .search-icon {
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: #777;
        }
        
        .tags-input {
            display: flex;
            flex-wrap: wrap;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 5px;
            margin-bottom: 15px;
            min-height: 42px;
        }
        
        .tag {
            background-color: #e9ecef;
            color: #495057;
            padding: 5px 10px;
            border-radius: 3px;
            margin: 2px;
            display: inline-flex;
            align-items: center;
        }
        
        .tag button {
            background: none;
            border: none;
            color: #777;
            margin-left: 5px;
            padding: 0;
            font-size: 14px;
            cursor: pointer;
        }
        
        .tags-input input {
            flex: 1;
            min-width: 100px;
            border: none;
            margin: 0;
            padding: 5px;
            outline: none;
        }
        
        .tags-input:focus-within {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(58, 134, 255, 0.2);
        }
        
        .no-articles {
            text-align: center;
            padding: 20px;
            color: #777;
        }
        
        .featured {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--warning-color);
            color: black;
            padding: 3px 6px;
            font-size: 12px;
            font-weight: bold;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Hệ Thống Quản Lý Bài Báo</h1>
            <div>
                <span id="today">20/03/2025</span>
            </div>
        </header>

        <div class="stats">
            <div class="stat-item">
                <div class="value" id="totalArticles">0</div>
                <div class="label">Tổng bài báo</div>
            </div>
            <div class="stat-item">
                <div class="value" id="featuredArticles">0</div>
                <div class="label">Bài nổi bật</div>
            </div>
            <div class="stat-item">
                <div class="value" id="categoriesCount">0</div>
                <div class="label">Danh mục</div>
            </div>
        </div>

        <div class="main-content">
            <div class="article-form">
                <h2>Thêm Bài Báo Mới</h2>
                <form id="articleForm">
                    <label for="title">Tiêu đề:</label>
                    <input type="text" id="title" placeholder="Nhập tiêu đề bài báo" required>
                    
                    <label for="category">Danh mục:</label>
                    <select id="category" required>
                        <option value="">-- Chọn danh mục --</option>
                        <option value="technology">Công nghệ</option>
                        <option value="health">Sức khỏe</option>
                        <option value="finance">Tài chính</option>
                        <option value="entertainment">Giải trí</option>
                        <option value="sports">Thể thao</option>
                    </select>
                    
                    <label for="tagsInput">Thẻ:</label>
                    <div class="tags-input" id="tagsContainer">
                        <input type="text" id="tagsInput" placeholder="Nhập thẻ và nhấn Enter">
                    </div>
                    
                    <label for="content">Nội dung:</label>
                    <textarea id="content" placeholder="Nhập nội dung bài báo" required></textarea>
                    
                    <div style="display: flex; align-items: center; margin-bottom: 15px;">
                        <input type="checkbox" id="featured" style="width: auto; margin-right: 10px;">
                        <label for="featured" style="display: inline;">Đánh dấu là bài nổi bật</label>
                    </div>
                    
                    <input type="hidden" id="editId" value="">
                    <button type="submit" class="btn-success" id="submitBtn">Thêm Bài Báo</button>
                </form>
            </div>
            
            <div class="article-list">
                <h2>Danh Sách Bài Báo</h2>
                <div class="search-bar">
                    <span class="search-icon">🔍</span>
                    <input type="text" id="searchInput" placeholder="Tìm kiếm bài báo...">
                </div>
                <ul id="articleList">
                    <li class="no-articles" id="noArticles">Chưa có bài báo nào</li>
                </ul>
            </div>
        </div>
    </div>
    
    <div class="notification" id="notification">
        <span id="notificationMessage"></span>
        <button class="close-btn" onclick="closeNotification()">×</button>
    </div>

    <script>
        // Initialize variables
        let articles = [];
        let tags = [];
        let categories = new Set();
        
        // Format date
        document.getElementById('today').textContent = new Date().toLocaleDateString('vi-VN');
        
        // Load data from local storage
        function loadFromLocalStorage() {
            const savedArticles = localStorage.getItem('articles');
            if (savedArticles) {
                articles = JSON.parse(savedArticles);
                updateStats();
                renderArticles();
            }
        }
        
        // Save data to local storage
        function saveToLocalStorage() {
            localStorage.setItem('articles', JSON.stringify(articles));
        }
        
        // Generate unique ID
        function generateId() {
            return Date.now().toString(36) + Math.random().toString(36).substr(2);
        }
        
        // Display notification
        function showNotification(message, isError = false) {
            const notification = document.getElementById('notification');
            const notificationMessage = document.getElementById('notificationMessage');
            
            notificationMessage.textContent = message;
            notification.classList.toggle('error', isError);
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // Close notification
        function closeNotification() {
            document.getElementById('notification').classList.remove('show');
        }
        
        // Update stats
        function updateStats() {
            document.getElementById('totalArticles').textContent = articles.length;
            
            const featuredCount = articles.filter(article => article.featured).length;
            document.getElementById('featuredArticles').textContent = featuredCount;
            
            categories = new Set(articles.map(article => article.category));
            document.getElementById('categoriesCount').textContent = categories.size;
        }
        
        // Handle form submission
        document.getElementById('articleForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const titleInput = document.getElementById('title');
            const contentInput = document.getElementById('content');
            const categoryInput = document.getElementById('category');
            const featuredInput = document.getElementById('featured');
            const editId = document.getElementById('editId').value;
            
            // Validate inputs
            if (!titleInput.value.trim() || !contentInput.value.trim() || !categoryInput.value) {
                showNotification('Vui lòng điền đầy đủ thông tin bắt buộc', true);
                return;
            }
            
            const articleData = {
                id: editId || generateId(),
                title: titleInput.value.trim(),
                content: contentInput.value.trim(),
                category: categoryInput.value,
                tags: [...tags],
                featured: featuredInput.checked,
                date: new Date().toLocaleDateString('vi-VN')
            };
            
            if (editId) {
                // Update existing article
                const index = articles.findIndex(article => article.id === editId);
                if (index !== -1) {
                    articles[index] = articleData;
                    showNotification('Bài báo đã được cập nhật thành công');
                }
            } else {
                // Add new article
                articles.unshift(articleData);
                showNotification('Bài báo đã được thêm thành công');
            }
            
            // Reset form
            this.reset();
            document.getElementById('editId').value = '';
            tags = [];
            renderTags();
            document.getElementById('submitBtn').textContent = 'Thêm Bài Báo';
            document.getElementById('submitBtn').className = 'btn-success';
            
            // Update UI
            saveToLocalStorage();
            updateStats();
            renderArticles();
        });
        
        // Handle article deletion
        function deleteArticle(id) {
            if (confirm('Bạn có chắc chắn muốn xóa bài báo này?')) {
                articles = articles.filter(article => article.id !== id);
                saveToLocalStorage();
                updateStats();
                renderArticles();
                showNotification('Bài báo đã được xóa thành công');
            }
        }
        
        // Handle article editing
        function editArticle(id) {
            const article = articles.find(article => article.id === id);
            if (article) {
                document.getElementById('title').value = article.title;
                document.getElementById('content').value = article.content;
                document.getElementById('category').value = article.category;
                document.getElementById('featured').checked = article.featured;
                document.getElementById('editId').value = article.id;
                
                tags = [...article.tags];
                renderTags();
                
                document.getElementById('submitBtn').textContent = 'Cập Nhật Bài Báo';
                document.getElementById('submitBtn').className = 'btn-warning';
                
                // Scroll to form
                document.querySelector('.article-form').scrollIntoView({ behavior: 'smooth' });
            }
        }
        
        // Render article list
        function renderArticles() {
            const articleList = document.getElementById('articleList');
            const searchInput = document.getElementById('searchInput').value.toLowerCase();
            const filteredArticles = articles.filter(article => 
                article.title.toLowerCase().includes(searchInput) ||
                article.content.toLowerCase().includes(searchInput) ||
                article.tags.some(tag => tag.toLowerCase().includes(searchInput))
            );
            
            if (filteredArticles.length === 0) {
                articleList.innerHTML = '<li class="no-articles">Không tìm thấy bài báo nào</li>';
                return;
            }
            
            articleList.innerHTML = '';
            
            filteredArticles.forEach(article => {
                const li = document.createElement('li');
                li.className = 'article-card';
                
                if (article.featured) {
                    const featuredBadge = document.createElement('div');
                    featuredBadge.className = 'featured';
                    featuredBadge.textContent = 'Nổi bật';
                    li.appendChild(featuredBadge);
                }
                
                const title = document.createElement('h3');
                title.textContent = article.title;
                
                const category = document.createElement('span');
                category.className = `article-category ${article.category}`;
                category.textContent = getCategoryName(article.category);
                
                const content = document.createElement('p');
                content.textContent = article.content.length > 100 
                    ? article.content.substring(0, 100) + '...' 
                    : article.content;
                
                const meta = document.createElement('div');
                meta.className = 'article-meta';
                
                const date = document.createElement('span');
                date.textContent = `Ngày đăng: ${article.date}`;
                
                const tagsContainer = document.createElement('div');
                if (article.tags.length > 0) {
                    tagsContainer.textContent = `Tags: ${article.tags.join(', ')}`;
                }
                
                const actions = document.createElement('div');
                actions.className = 'article-actions';
                
                const editBtn = document.createElement('button');
                editBtn.className = 'btn-warning';
                editBtn.textContent = 'Sửa';
                editBtn.onclick = () => editArticle(article.id);
                
                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'btn-danger';
                deleteBtn.textContent = 'Xóa';
                deleteBtn.onclick = () => deleteArticle(article.id);
                
                meta.appendChild(date);
                
                actions.appendChild(editBtn);
                actions.appendChild(deleteBtn);
                
                li.appendChild(title);
                li.appendChild(category);
                li.appendChild(content);
                if (article.tags.length > 0) {
                    li.appendChild(tagsContainer);
                }
                li.appendChild(meta);
                li.appendChild(actions);
                
                articleList.appendChild(li);
            });
        }
        
        // Get category name from value
        function getCategoryName(categoryValue) {
            const categories = {
                'technology': 'Công nghệ',
                'health': 'Sức khỏe',
                'finance': 'Tài chính',
                'entertainment': 'Giải trí',
                'sports': 'Thể thao'
            };
            
            return categories[categoryValue] || categoryValue;
        }
        
        // Handle tag input
        document.getElementById('tagsInput').addEventListener('keydown', function(e) {
            if (e.key === 'Enter' || e.key === ',') {
                e.preventDefault();
                
                const tagValue = this.value.trim();
                if (tagValue && !tags.includes(tagValue)) {
                    tags.push(tagValue);
                    renderTags();
                }
                
                this.value = '';
            }
        });
        
        // Remove tag
        function removeTag(index) {
            tags.splice(index, 1);
            renderTags();
        }
        
        // Render tags
        function renderTags() {
            const container = document.getElementById('tagsContainer');
            const input = document.getElementById('tagsInput');
            
            // Remove all elements except the input
            Array.from(container.children).forEach(child => {
                if (child !== input) {
                    container.removeChild(child);
                }
            });
            
            // Add tags before the input
            tags.forEach((tag, index) => {
                const tagElement = document.createElement('span');
                tagElement.className = 'tag';
                tagElement.textContent = tag;
                
                const removeButton = document.createElement('button');
                removeButton.textContent = '×';
                removeButton.onclick = () => removeTag(index);
                
                tagElement.appendChild(removeButton);
                container.insertBefore(tagElement, input);
            });
        }
        
        // Handle search
        document.getElementById('searchInput').addEventListener('input', renderArticles);
        
        // Add sample data for demonstration
        function addSampleData() {
            if (articles.length === 0) {
                articles = [
                    {
                        id: generateId(),
                        title: "Smartphone mới nhất của Apple đã ra mắt",
                        content: "Apple vừa giới thiệu dòng iPhone mới với nhiều tính năng đột phá và thiết kế hiện đại. Sản phẩm dự kiến sẽ được bán ra thị trường vào tháng tới.",
                        category: "technology",
                        tags: ["Apple", "iPhone", "Smartphone"],
                        featured: true,
                        date: new Date().toLocaleDateString('vi-VN')
                    },
                    {
                        id: generateId(),
                        title: "5 cách tập luyện hiệu quả tại nhà",
                        content: "Bài viết chia sẻ những phương pháp tập luyện đơn giản nhưng hiệu quả mà bạn có thể thực hiện tại nhà mà không cần đến phòng tập gym.",
                        category: "health",
                        tags: ["Fitness", "Home workout", "Health"],
                        featured: false,
                        date: new Date().toLocaleDateString('vi-VN')
                    },
                    {
                        id: generateId(),
                        title: "Thị trường chứng khoán biến động mạnh",
                        content: "Các nhà đầu tư đang lo ngại trước những biến động bất thường của thị trường chứng khoán trong những ngày gần đây.",
                        category: "finance",
                        tags: ["Stocks", "Market", "Investment"],
                        featured: false,
                        date: new Date().toLocaleDateString('vi-VN')
                    }
                ];
                
                saveToLocalStorage();
                updateStats();
                renderArticles();
            }
        }
        
        // Initialize 
        window.onload = function() {
            loadFromLocalStorage();
            renderTags();
            addSampleData();
        };
    </script>
</body>
</html>
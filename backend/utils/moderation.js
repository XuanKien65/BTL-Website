const badWords = [
  // Tiếng Việt tục tĩu hoặc xúc phạm
  "cl",
  "clm",
  "dm",
  "dmm",
  "vcl",
  "ml",
  "vkl",
  "vđ",
  "đm",
  "địt",
  "dit",
  "đjt",
  "djt",
  "đụ",
  "du",
  "đéo",
  "deo",
  "đek",
  "dek",
  "lồn",
  "lon",
  "l0n",
  "lol",
  "l*n",
  "l`n",
  "bú lồn",
  "bú lol",
  "bú cu",
  "cặc",
  "cak",
  "cak*",
  "cu",
  "bú",
  "bú m*",
  "đĩ",
  "điếm",
  "con đĩ",
  "mẹ mày",
  "con mẹ mày",
  "đồ chó",
  "óc chó",
  "đồ ngu",
  "ngu vl",
  "ngu vcl",
  "thằng ngu",
  "con ngu",
  "vô học",
  "chó má",
  "chết mẹ",
  "cmm",
  "cút mẹ mày",
  "đú",
  "phèn",
  "làm màu",
  "thượng đẳng",

  // Tiếng Việt kỳ thị, phân biệt
  "bê đê",
  "pê đê",
  "pđ",
  "bđ",
  "bede",
  "gay lol",
  "les",
  "bóng lộ",
  "da đen",
  "mọi",
  "mọi rợ",
  "đồ mọi",
  "đồ ch* mọi",

  // Tiếng Anh tục tĩu, xúc phạm
  "fuck",
  "f*ck",
  "f u",
  "fuk",
  "f***",
  "f*** you",
  "fuck u",
  "shit",
  "sh*t",
  "sht",
  "bullshit",
  "bshit",
  "ass",
  "asshole",
  "dick",
  "cock",
  "pussy",
  "bitch",
  "biatch",
  "whore",
  "slut",
  "cunt",
  "bastard",
  "motherfucker",
  "mf",
  "suck my dick",

  // Tiếng Anh kỳ thị, phân biệt
  "nigga",
  "nigger",
  "fag",
  "faggot",
  "retard",
  "chink",
  "gook",
  "spic",
  "tranny",
  "kike",
  "dyke",
  "rape",
  "rapist",
  "terrorist",

  // Biến thể viết tắt/phá cách để tránh lọc
  "d!t",
  "l0n",
  "c@c",
  "đ**",
  "d*m",
  "c*l",
  "đ.m",
  "f.ck",
  "s.h.i.t",
  "c.u.l",
];

async function isToxicContent(text) {
  const regex = new RegExp(`(${badWords.join("|")})`, "i"); // bỏ \\b
  const matched = regex.test(text);
  console.log("🧪 Kiểm duyệt:", text, "→", matched);
  return matched;
}

module.exports = { isToxicContent };
